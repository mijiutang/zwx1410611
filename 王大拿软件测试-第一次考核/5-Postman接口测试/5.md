### 5-1 浏览器抓包及接口测试

#### 一、接口组成
接口是两个模块与模块之间数据交互的通道。在学习接口之前，我们先来学习抓包工具。抓包工具分为以下几类：
1. **浏览器的开发工具**
2. **Charles**
3. **Fiddler**

浏览器开发工具主要用于抓取外部端的接口，而Charles和Fiddler可以抓取所有类型的接口，包括手机APP和PC端应用的接口。

#### 二、浏览器开发工具介绍
1. **打开开发者工具**
   - 方法1：按F12打开。
   - 方法2：点击浏览器设置 -> 更多工具 -> 开发者工具。

2. **开发者工具界面**
   - 主要包括元素、控制台、源代码、网络、性能、内存、应用、安全等标签页。
   - 今天重点学习元素、控制台、网络和应用。

#### 三、元素（Elements）
1. **元素标签页**
   - 也称为Elements，用于审查和修改页面的HTML和CSS。
   - 可以通过点击页面上的元素来定位和修改其内容。

2. **修改页面显示**
   - 示例：将页面上的文字修改为其他内容。
   - 注意：这只是前端修改，不会影响后端数据库。

3. **设备工具栏**
   - 用于做入网测试和兼容性测试。
   - 可以选择不同的设备型号查看页面适配情况。

#### 四、控制台（Console）
1. **控制台标签页**
   - 主要用于查看前端代码的运行情况和日志。
   - 可以运行JS代码。

2. **日志级别**
   - **Error**：报错日志，红色字体。
   - **Warning**：警告日志，黄色字体。
   - **Info**：正常打印的输入输出信息，黑色字体。
   - **Debug**：调试日志，开发常用。

3. **查看日志**
   - 示例：查看页面加载时的错误日志。

#### 五、抓包工具（Network）
1. **抓包工具标签页**
   - 主要用于抓取数据包，查看接口请求和响应。

2. **接口组成**
   - **请求地址**：包括请求协议（HTTP/HTTPS）、IP端口、接口地址和参数。
   - **请求方法**：GET、POST等。
   - **状态代码**：200、400、403、404、405、500等。
   - **响应标头**：包括内容类型（Content-Type）和编码。
   - **载荷（Payload）**：请求参数。
   - **预览和响应**：返回的数据。

3. **GET请求**
   - 所有请求数据都在URL中，数据暴露在URL中，不安全。
   - 一般用于查询类接口。

4. **POST请求**
   - 请求数据隐藏在Body中，数据长度没有限制。
   - 一般用于增删改操作。

#### 六、应用（Application）
1. **应用标签页**
   - 主要用于存储和管理Cookies、本地存储和缓存。

2. **Cookies**
   - 查看和管理网站存储的所有Cookies。

#### 七、实际操作演示
1. **打开开发者工具**
   - 按F12或通过设置打开。

2. **查看元素**
   - 点击元素标签页，定位和修改页面元素。

3. **查看控制台日志**
   - 点击控制台标签页，查看前端日志和运行JS代码。

4. **抓包查看接口**
   - 点击网络标签页，刷新页面，查看接口请求和响应。

5. **查看应用中的Cookies**
   - 点击应用标签页，查看和管理Cookies。

#### 八、总结
1. **接口组成**
   - 请求地址、请求方法、状态代码、响应标头、载荷和响应数据。

2. **抓包工具**
   - 浏览器开发工具、Charles、Fiddler。

3. **开发者工具标签页**
   - 元素、控制台、网络、应用。

### 5-2 Postman基本操作

大家好，今天我们学习接口工具Postman。首先介绍接口工具Postman和Jmeter，Postman用于接口测试，Jmeter用于性能测试和接口测试。今天主要学习Postman的基本操作。

#### 一、Postman安装
1. **安装Postman**
   - 下载安装包，点击下一步完成安装。

#### 二、Postman界面介绍
1. **新建请求**
   - 点击New -> HTTP Request，创建请求。

2. **接口文档**
   - 以企业微信为例，提供接口文档和错误码地址。

#### 三、接口测试示例
1. **获取Access Token**
   - 请求方式：GET
   - 请求地址：企业微信提供的接口地址
   - 参数：corpid和corpsecret

2. **创建成员接口**
   - 请求方式：POST
   - 请求地址：企业微信提供的接口地址
   - 参数：access_token、userid、name、mobile等

#### 四、实际操作演示
1. **获取Access Token**
   - 输入请求地址，点击Send，获取Access Token。

2. **创建成员**
   - 输入请求地址和参数，点击Send，创建成员。

#### 五、接口测试流程
1. **冒烟测试**
   - 确保接口能够正常返回数据。

2. **业务逻辑测试**
   - 按照业务逻辑串联接口，确保业务逻辑跑通。

3. **详细接口测试**
   - 对每个接口进行详细测试，包括正向和逆向场景。

#### 六、作业
1. **整理笔记**
   - 整理今天学习的内容。

2. **企业微信接口测试**
   - 测试获取Access Token、创建成员、更新成员、删除成员、获取部门成员、获取部门详情等接口。

### 5-3 接口测试流程

#### 大家好，今天我们学习接口测试流程。首先学习Postman的导入和导出操作，然后讲解具体的接口测试流程。

#### 一、导入和导出操作
1. **导入文件**
   - 点击File -> Import，选择文件导入。

2. **导出文件**
   - 点击File -> Export，选择版本和保存路径。

#### 二、接口测试流程
1. **需求分析**
   - 学习和整理需求，提取功能点，确认需求没有问题。

2. **编写测试用例**
   - 根据需求文档编写测试用例。

3. **冒烟测试**
   - 确保每个接口能够正常返回数据。

4. **详细接口测试**
   - 按照业务逻辑串联接口，确保业务逻辑跑通。
   - 对每个接口进行详细测试，包括正向和逆向场景。

5. **校验内容**
   - 校验状态码、返回内容和数据库。

#### 三、接口测试意义
1. **尽早发现Bug**
   - 尽早发现后端数据问题，提高软件质量。

2. **发现系统测试无法发现的Bug**
   - 接口测试可以发现一些系统测试无法发现的Bug。

#### 四、作业
1. **整理笔记**
   - 整理今天学习的内容。

2. **接口测试意义**
   - 思考接口测试的意义，准备面试回答。

3. **多找接口测试**
   - 找几个接口进行测试，熟悉测试流程。

### 5-4 Postman高阶操作

#### 大家好，今天我们学习Postman的高阶操作，包括环境变量、自动化脚本和批量运行接口。

#### 一、环境变量
1. **创建环境变量**
   - 点击右上角设置，创建新环境。
   - 定义变量名称和值。

2. **使用环境变量**
   - 在请求地址中使用`{{变量名}}`引用环境变量。

#### 二、自动化脚本
1. **获取Access Token自动化**
   - 在Tests标签页中编写脚本，自动获取Access Token并存储到环境变量中。

2. **断言**
   - 使用Postman内置的断言方法，自动判断接口返回结果是否符合预期。

#### 三、批量运行接口
1. **批量运行**
   - 选择文件夹，点击Run按钮，批量运行接口。

#### 四、实际操作演示
1. **创建环境变量**
   - 创建企业微信Token环境变量。

2. **编写自动化脚本**
   - 编写获取Access Token的脚本。

3. **断言**
   - 编写断言脚本，判断接口返回结果。

4. **批量运行接口**
   - 选择需要运行的接口，点击Run按钮，批量运行。
